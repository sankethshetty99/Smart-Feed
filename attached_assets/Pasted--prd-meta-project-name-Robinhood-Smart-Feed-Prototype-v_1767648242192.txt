{
  "prd_meta": {
    "project_name": "Robinhood_Smart_Feed_Prototype",
    "version": "1.0.0",
    "objective": "Build a passive discovery news feed for retail traders that aggregates multi-source news into personalized trade signals.",
    "target_platform": "Web (Mobile Responsive)",
    "primary_user_story": "As a casual trader, I want to see a feed of trading opportunities (posts) personalized to my interests so that I can discover new potential trades without actively searching for them across multiple sources."
  },
  "tech_stack_requirements": {
    "frontend": {
      "framework": "React (Vite)",
      "styling": "Tailwind CSS",
      "icons": "Lucide React",
      "state_management": "React Query (TanStack Query)"
    },
    "backend": {
      "language": "Python",
      "framework": "Flask or FastAPI",
      "database_orm": "SQLAlchemy"
    },
    "database": {
      "type": "PostgreSQL",
      "hosting": "Replit Integrated Postgres"
    },
    "external_apis": {
      "stock_data": "Mock data generator (for prototype phase)",
      "news_source": "Mock news aggregator (for prototype phase)"
    }
  },
  "database_schema": {
    "tables": [
      {
        "name": "users",
        "columns": [
          {"name": "id", "type": "Integer", "primary_key": true},
          {"name": "username", "type": "String"},
          {"name": "risk_tolerance", "type": "String", "options": ["low", "medium", "high"]}
        ]
      },
      {
        "name": "stocks",
        "columns": [
          {"name": "ticker", "type": "String", "primary_key": true},
          {"name": "company_name", "type": "String"},
          {"name": "sector", "type": "String"},
          {"name": "current_price", "type": "Float"},
          {"name": "day_change_percent", "type": "Float"}
        ]
      },
      {
        "name": "user_interests",
        "columns": [
          {"name": "id", "type": "Integer", "primary_key": true},
          {"name": "user_id", "type": "Integer", "foreign_key": "users.id"},
          {"name": "ticker", "type": "String", "foreign_key": "stocks.ticker"},
          {"name": "interest_type", "type": "String", "options": ["holding", "watchlist"]}
        ]
      },
      {
        "name": "feed_items",
        "columns": [
          {"name": "id", "type": "Integer", "primary_key": true},
          {"name": "ticker", "type": "String", "foreign_key": "stocks.ticker"},
          {"name": "summary_headline", "type": "String", "note": "AI generated 1-liner"},
          {"name": "sentiment_score", "type": "Float", "range": "-1.0 to 1.0"},
          {"name": "source_count", "type": "Integer"},
          {"name": "primary_source_name", "type": "String"},
          {"name": "published_at", "type": "DateTime"}
        ]
      }
    ]
  },
  "api_specification": {
    "endpoints": [
      {
        "method": "GET",
        "path": "/api/feed/{user_id}",
        "description": "Returns a ranked list of feed cards based on user holdings and watchlist.",
        "logic": "1. Fetch user_interests. 2. Query feed_items where ticker matches interests. 3. Sort by published_at (desc). 4. Fallback: If < 5 items, append 'Trending' items (high sentiment score).",
        "response_structure": [
          {
            "card_id": 101,
            "ticker": "TSLA",
            "headline": "Tesla